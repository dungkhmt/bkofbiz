<?xml version="1.0" encoding="UTF-8"?>
<entitymodel xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="http://ofbiz.apache.org/dtds/entitymodel.xsd">
    <!-- ========================================================= -->
    <!-- ======================== Defaults ======================= -->
    <!-- ========================================================= -->
    <title>Entity of BkEuniv Component</title>
    <description>None</description>
    <copyright></copyright>
    <version></version>

	<!-- Quan ly dang ky lich day cao hoc -->
	
	<entity entity-name="MasterClass" package-name="org.ofbiz.bkeuniv">
		<field name="classId" type="id-ne"></field>
		<field name="className" type="very-long"></field>
		<prim-key field="classId"/>
	</entity>
	<entity entity-name="MasterCourse" package-name="org.ofbiz.bkeuniv">
		<field name="courseId" type="id-ne"></field>
		<field name="courseName" type="very-long"></field>
		<field name="nbSessions" type="numeric"></field>
		<prim-key field="courseId"/>
	</entity>
	<entity entity-name="MasterTrainingPeriod" package-name="org.ofbiz.bkeuniv">
		<field name="periodId" type="id-ne"></field>
		<field name="periodName" type="very-long"></field>
		<field name="fromDate" type="date"></field>
		<field name="thruDate" type="date"></field>
		<prim-key field="periodId"/>
	</entity>
	<entity entity-name="MasterCoursePeriod" package-name="org.ofbiz.bkeuniv">
		<field name="coursePeriodId" type="id-ne"></field>
		<field name="courseId" type="id-ne"></field>
		<field name="periodId" type="id-ne"></field>
		<field name="staffId" type="id-vlong"></field>
		<prim-key field="coursePeriodId"/>
		<relation rel-entity-name="MasterTrainingPeriod" type="one">
			<key-map field-name="periodId"/>
		</relation>
		<relation rel-entity-name="MasterCourse" type="one">
			<key-map field-name="courseId"/>
		</relation>
		
		<relation rel-entity-name="Staff" type="one">
			<key-map field-name="staffId"/>
		</relation>		
	</entity>
	<entity entity-name="MasterClassCoursePeriod" package-name="org.ofbiz.bkeuniv">
		<field name="classCoursePeriodId" type="id-ne"></field>
		<field name="classId" type="id-ne"></field>
		<field name="coursePeriodId" type="id-ne"></field>
		
		<prim-key field="classCoursePeriodId"/>
		
		<relation rel-entity-name="MasterCoursePeriod" type="one">
			<key-map field-name="coursePeriodId"/>
		</relation>
		<relation rel-entity-name="MasterClass" type="one">
			<key-map field-name="classId"/>
		</relation>
		
	</entity>
	<entity entity-name="MasterCourseSlotType" package-name="org.ofbiz.bkeuniv">
		<field name="masterCourseSlotTypeId" type="id-ne"></field>
		<field name="masterCourseSlotTypeName" type="very-long"></field>
		<prim-key field="masterCourseSlotTypeId"/>
	</entity>
	
	<entity entity-name="MasterCourseClassPeriodCalendar" package-name="org.ofbiz.bkeuniv">
		<field name="masterCourseClassPeriodCalendarId" type="id-ne"></field>
		<field name="coursePeriodId" type="id-ne"></field>
		<field name="date" type="date"></field>
		<field name="slot" type="numeric"></field>
		<prim-key field="masterCourseClassPeriodCalendarId"/>
		
		<relation rel-entity-name="MasterCoursePeriod" type="one">
			<key-map field-name="coursePeriodId"/>
		</relation>
		
		<relation rel-entity-name="MasterCourseSlotType" type="one">
			<key-map field-name="masterCourseSlotTypeId"/>
		</relation>
		
	</entity>
	
	<!-- Ket thuc Quan ly dang ky lich day cao hoc -->

	<!-- Submit đề tài nghiên cứu -->
	
	<entity entity-name="Statistic" package-name="org.ofbiz.bkeuniv">
		<field name="statisticId" type="id-ne"></field>
		<field name="countResearchProposalSubmission" type="numeric"></field>
		
		<prim-key field="statisticId"/>
	</entity>
	
	<entity entity-name="ConfigParams" package-name="org.ofbiz.bkeuniv">
		<field name="paramId" type="id-ne"></field>
		<field name="paramName" type="very-long"></field>
		<field name="value" type="very-long"></field>
		<prim-key field="paramId"/>
	</entity>
	
	<entity entity-name="ProjectCategory" package-name="org.ofbiz.bkeuniv">
		<field name="projectCategoryId" type="id-vlong"></field>
		<field name="projectCategoryName" type="very-long"></field>
		<prim-key field="projectCategoryId"/>
		
	</entity>
	
	<entity entity-name="ProjectCallStatus" package-name="org.ofbiz.bkeuniv">
		<field name="statusId" type="id-vlong"></field>
		<field name="statusName" type="very-long"></field>
		<prim-key field="statusId"/>
	</entity>

	<entity entity-name="ProjectCall" package-name="org.ofbiz.bkeuniv">
		<field name="projectCallId" type="id-vlong"></field>
		<field name="projectCallName" type="very-long"></field>
		<field name="year" type="id-vlong"></field>
		<field name="projectCategoryId" type="id-vlong"></field>
		<field name="statusId" type="id-vlong"></field>
		<prim-key field="projectCallId"/>
		<relation rel-entity-name="ProjectCategory" type="one">
			<key-map field-name="projectCategoryId"/>
		</relation>
		<relation rel-entity-name="ProjectCallStatus" type="one">
			<key-map field-name="statusId"/>
		</relation>
		
	</entity>
	<view-entity entity-name="ProjectCallView" package-name="org.ofbiz.bkeuniv">
		<member-entity entity-alias="PC" entity-name="ProjectCall"></member-entity>
		<member-entity entity-alias="PCAT" entity-name="ProjectCategory"></member-entity>
		<member-entity entity-alias="PCS" entity-name="ProjectCallStatus"></member-entity>
		<alias-all entity-alias="PC" ></alias-all>
		<alias name="projectCategoryName" field="projectCategoryName" entity-alias="PCAT"></alias>
		<alias name="statusName" field="statusName" entity-alias="PCS"></alias>
		<view-link rel-entity-alias="PCAT" entity-alias="PC">
			<key-map rel-field-name="projectCategoryId" field-name="projectCategoryId"/>
		</view-link>
		<view-link rel-entity-alias="PCS" entity-alias="PC" rel-optional="true">
			<key-map rel-field-name="statusId" field-name="statusId"/>
		</view-link>
		
	</view-entity>	
	
	<entity entity-name="ProjectProposalStatus" package-name="org.ofbiz.bkeuniv">
		<field name="statusId" type="id-vlong"></field>
		<field name="statusName" type="very-long"></field>
		<prim-key field="statusId"/>
	</entity>
	
	<entity entity-name="ResearchProjectProposal" title="Thuyết minh đề tài nghiên cứu" 
	package-name="org.ofbiz.bkeuniv">
		<field name="researchProjectProposalId" type="id-ne"></field>
		<field name="researchProjectProposalCode" type="id-vlong"></field>
		<field name="partyId" type="id-ne" ></field>
		<field name="parentResearchProjectProposalId" type="id-ne" ></field>
		<field name="createStaffId" type="id-vlong"></field>
		<field name="projectCallId" type="id-vlong"></field>
		<field name="projectCategoryId" type="id-vlong"></field>
		<field name="researchProjectProposalName" type="very-long"></field>
		<field name="totalBudget" type="currency-amount"></field>
		<field name="statusId" type="id-vlong"></field>
		<field name="approvedByStaffId" type="id-vlong"></field>
		<field name="sourceFileUpload" type="very-long"></field>
		<field name="facultyId" type="id-vlong"></field>
		<field name="startDate" type="date"></field>
		<field name="endDate" type="date"></field>
		<field name="deliverable" type="very-long"></field>
		<field name="materialBudget" type="currency-amount"></field>
		<field name="note" type="very-long"></field>
		<field name="evaluationOpenFlag" type="indicator"></field>
		
		<prim-key field="researchProjectProposalId"/>
		<relation rel-entity-name="Staff" type="one">
			<key-map field-name="createStaffId" rel-field-name="staffId"/>
		</relation>
		<relation rel-entity-name="ProjectProposalStatus" type="one">
			<key-map field-name="statusId" rel-field-name="statusId"/>
		</relation>
		<relation rel-entity-name="Party" type="one">
			<key-map field-name="partyId"/>
		</relation>
		<relation rel-entity-name="ProjectCall" type="one" fk-name="PROJECT_CALL">
			<key-map field-name="projectCallId"/>
		</relation>
		<relation rel-entity-name="ProjectCategory" type="one" fk-name="PROJECT_CATEGORY">
			<key-map field-name="projectCategoryId"/>
		</relation>
		<relation rel-entity-name="Faculty" type="one" fk-name="FACULTY">
			<key-map field-name="facultyId"/>
		</relation>
	</entity>
	
	<view-entity entity-name="ResearchProjectProposalView" package-name="org.ofbiz.bkeuniv">
		<member-entity entity-alias="RPP" entity-name="ResearchProjectProposal"></member-entity>
		<member-entity entity-alias="ST" entity-name="Staff"></member-entity>
		<member-entity entity-alias="PC" entity-name="ProjectCall"></member-entity>
		<member-entity entity-alias="F" entity-name="Faculty"></member-entity>
		<member-entity entity-alias="PCG" entity-name="ProjectCategory"></member-entity>
		<member-entity entity-alias="PPS" entity-name="ProjectProposalStatus"></member-entity>
		<alias-all entity-alias="RPP"></alias-all>
		<alias name="createStaffName" field="staffName" entity-alias="ST"></alias>
		<alias name="projectCallName" field="projectCallName" entity-alias="PC"></alias>
		<alias name="projectCategoryName" field="projectCategoryName" entity-alias="PCG"></alias>
		<alias name="facultyName" field="facultyName" entity-alias="F"></alias>
		<alias name="statusName" field="statusName" entity-alias="PPS"></alias>
		
		<view-link rel-entity-alias="F" entity-alias="RPP" rel-optional="true">
			<key-map rel-field-name="facultyId" field-name="facultyId"/>
		</view-link>
		 
		<view-link rel-entity-alias="PC" entity-alias="RPP" rel-optional="true">
			<key-map rel-field-name="projectCallId" field-name="projectCallId"/>
		</view-link>
		
		<view-link rel-entity-alias="PCG" entity-alias="RPP" rel-optional="true">
			<key-map rel-field-name="projectCategoryId" field-name="projectCategoryId"/>
		</view-link>
		
		<view-link rel-entity-alias="ST" entity-alias="RPP" rel-optional="true">
			<key-map rel-field-name="staffId" field-name="createStaffId"/>
		</view-link>
		<view-link rel-entity-alias="PPS" entity-alias="RPP" rel-optional="true">
			<key-map rel-field-name="statusId" field-name="statusId"/>
		</view-link>
		
	</view-entity>
	
	<entity entity-name="ResearchProgram" package-name="org.ofbiz.bkeuniv">
		<field name="researchProgramId" type="id-ne"></field>
		<field name="researchProgramName" type="id-ne"></field>
		<field name="staffId" type="id-vlong"></field>
		<field name="fromDate" type="date"></field>
		<field name="thruDate" type="date"></field>
		<prim-key field="researchProgramId"/>
		
		<relation rel-entity-name="Staff" type="one" fk-name="STAFF">
			<key-map field-name="staffId"/>
		</relation>
		
	</entity>
	
	<entity entity-name="ResearchProjectDeclarationYear" package-name="org.ofbiz.bkeuniv">
		<field name="researchProjectDeclarationYearId" type="id-ne"></field>
		<field name="researchProjectProposalId" type="id-ne"></field>
		<field name="staffId" type="id-vlong"></field>
		<field name="projectParticipationRoleId" type="id-vlong"></field>
		<field name="workingdays" type="numeric"></field>
		<field name="workinghours" type="numeric"></field>
		<field name="academicYearId" type="id-ne"></field>
		
		<prim-key field="researchProjectDeclarationYearId"/>
		
		<relation rel-entity-name="AcademicYear" type="one" fk-name="ACADEMICYEARRPDY">
			<key-map field-name="academicYearId"/>
		</relation>
		<relation rel-entity-name="Staff" type="one" fk-name="STAFFRPDY">
			<key-map field-name="staffId"/>
		</relation>
		 
		<relation rel-entity-name="ResearchProjectProposal" type="one" fk-name="RESEARCHPROJECTPROPOSALDECLARATIONYEAR">
			<key-map field-name="researchProjectProposalId"/>
		</relation>
		
		<relation rel-entity-name="ProjectParticipationRole" type="one">
         	<key-map field-name="projectParticipationRoleId"/>
         </relation>
	</entity>
	
	<view-entity entity-name="ResearchProjectDeclarationYearView" package-name="org.ofbiz.bkeuniv">
		<member-entity entity-alias="RPD" entity-name="ResearchProjectDeclarationYear"></member-entity>
		<member-entity entity-alias="AY" entity-name="AcademicYear"></member-entity>
		<member-entity entity-alias="ST" entity-name="Staff"></member-entity>
		<!-- 
		<member-entity entity-alias="CBST" entity-name="Staff"></member-entity>
		 -->
		<member-entity entity-alias="RPP" entity-name="ResearchProjectProposal"></member-entity>
		<member-entity entity-alias="PPR" entity-name="ProjectParticipationRole"></member-entity>
		<alias-all entity-alias="RPD"></alias-all>
		<alias name="academicYearName" field="academicYearName" entity-alias="AY"></alias>
		<alias name="staffName" field="staffName" entity-alias="ST"></alias>
		<!-- 
		<alias name="createByStaffName" field="staffName" entity-alias="CBST"></alias>
		 -->
		<alias name="researchProjectProposalName" field="researchProjectProposalName" entity-alias="RPP"></alias>
		<alias name="projectParticipationRoleName" field="projectParticipationRoleName" entity-alias="PPR"></alias>
		<alias name="statusId" field="statusId" entity-alias="RPP"></alias>
		<alias name="createStaffId" field="createStaffId" entity-alias="RPP"></alias>
		<!-- 
		<alias name="staffId" field="staffId" entity-alias="CBST"></alias>
		 -->
		<!-- 
		<view-link rel-entity-alias="CBST" entity-alias="RPP" rel-optional="true">
			<key-map rel-field-name="staffId" field-name="createStaffId"/>
		</view-link>
		 -->
		<view-link rel-entity-alias="AY" entity-alias="RPD" rel-optional="true" >
			<key-map rel-field-name="academicYearId" field-name="academicYearId" />
		</view-link>
		 
		<view-link rel-entity-alias="ST" entity-alias="RPD" rel-optional="true">
			<key-map rel-field-name="staffId" field-name="staffId"/>
		</view-link>
		
		
		<view-link rel-entity-alias="RPP" entity-alias="RPD" rel-optional="true">
			<key-map rel-field-name="researchProjectProposalId" field-name="researchProjectProposalId"/>
		</view-link>
		
		<view-link rel-entity-alias="PPR" entity-alias="RPD" rel-optional="true">
			<key-map rel-field-name="projectParticipationRoleId" field-name="projectParticipationRoleId"/>
		</view-link>
	</view-entity>
	
	<entity entity-name="ResearchProjectProposalDomain" package-name="org.ofbiz.bkeuniv">
		<field name="researchProjectProposalId" type="id-ne"></field>
		<field name="researchDomainId" type="id-vlong"></field>
		<prim-key field="researchProjectProposalId"/>
		<prim-key field="researchDomainId"/>
		<relation rel-entity-name="ResearchProjectProposal" type="one">
			<key-map field-name="researchProjectProposalId"/>
		</relation>
		<relation rel-entity-name="ResearchDomain" type="one">
			<key-map field-name="researchDomainId"/>
		</relation>
	</entity>
	
	<entity entity-name="ResearchProposalContentItem" package-name="org.ofbiz.bkeuniv">
		<field name="researchProjectProposalId" type="id-ne"></field>
		<field name="contentItemSeq" type="id"></field>
		<field name="staffId" type="id-vlong"></field>
		<field name="content" type="very-long"></field>
		<field name="workingDays" type="numeric"></field>
		<field name="budget" type="currency-amount"></field>
		<prim-key field="researchProjectProposalId"/>
		<prim-key field="contentItemSeq"/>
		<relation rel-entity-name="Staff" type="one">
			<key-map field-name="staffId"/>
		</relation>
		<relation rel-entity-name="ResearchProjectProposal" type="one">
			<key-map field-name="researchProjectProposalId"/>
		</relation>
	</entity>
	
	<view-entity entity-name="ResearchProposalContentItemView" package-name="org.ofbiz.bkeuniv">
		<member-entity entity-alias="RPCI" entity-name="ResearchProposalContentItem"></member-entity>
		<member-entity entity-alias="ST" entity-name="Staff"></member-entity>
		<alias-all entity-alias="RPCI"></alias-all>
		<alias name="staffName" field="staffName" entity-alias="ST"></alias>
		<view-link rel-entity-alias="ST" entity-alias="RPCI">
			<key-map rel-field-name="staffId" field-name="staffId"/>
		</view-link>
	</view-entity>
	
	<entity entity-name="ProjectProposalRoleType" package-name="org.ofbiz.bkeuniv">
		<field name="roleTypeId" type="id-vlong"></field>
		<field name="roleTypeName" type="very-long"></field>
		<prim-key field="roleTypeId"/>
	</entity>
	
	<entity entity-name="ResearchProductType" package-name="org.ofbiz.bkeuniv">
		<field name="researchProductTypeId" type="id-vlong"></field>
		<field name="researchProductTypeName" type="very-long"></field>
		<prim-key field="researchProductTypeId"/>
	</entity>
	
	<entity entity-name="ResearchProduct" package-name="org.ofbiz.bkeuniv">
		<field name="researchProductId" type="id-ne"></field>
		<field name="researchProductTypeId" type="id-vlong"></field>
		<field name="researchProductName" type="very-long"></field>
		<field name="sourcePathUpload" type="very-long"></field>
		<field name="researchProjectProposalId" type="id-ne"></field>
		<field name="approvedByStaffId" type="id-vlong"></field>
		
		<prim-key field="researchProductId"/>
		
		<relation rel-entity-name="ResearchProductType" type="one">
			<key-map field-name="researchProductTypeId"/>
		</relation>
		<relation rel-entity-name="Party" type="one">
			<key-map field-name="researchProductId" rel-field-name="partyId"/>
		</relation>
		<relation rel-entity-name="ResearchProjectProposal" type="one">
			<key-map field-name="researchProjectProposalId"/>
		</relation>
		<relation rel-entity-name="Staff" type="one">
			<key-map field-name="approvedByStaffId" rel-field-name="staffId"/>
		</relation>
	</entity>
	
	<entity entity-name="ResearchProposalProduct" package-name="org.ofbiz.bkeuniv">
		<field name="researchProductId" type="id-ne"></field>
		<field name="researchProductTypeId" type="id-vlong"></field>
		<field name="researchProductName" type="very-long"></field>
		<field name="sourcePathUpload" type="very-long"></field>
		<field name="researchProjectProposalId" type="id-ne"></field>
		<field name="quantity" type="numeric"></field>
		
		<prim-key field="researchProductId"/>
		
		<relation rel-entity-name="ResearchProductType" type="one">
			<key-map field-name="researchProductTypeId"/>
		</relation>
		<!-- <relation rel-entity-name="Party" type="one">
			<key-map field-name="researchProductId" rel-field-name="partyId"/>
		</relation> -->
	</entity>
	
	<view-entity entity-name="ResearchProposalProductView" package-name="org.ofbiz.bkeuniv">
		<member-entity entity-alias="RPP" entity-name="ResearchProposalProduct"></member-entity>
		<member-entity entity-alias="RPT" entity-name="ResearchProductType"></member-entity>
		<member-entity entity-alias="RPPR" entity-name="ResearchProjectProposal"></member-entity>
		<alias-all entity-alias="RPP"></alias-all>
		<alias name="researchProductTypeName" entity-alias="RPT" field="researchProductTypeName"></alias>
		<alias name="researchProjectProposalName" entity-alias="RPPR" field="researchProjectProposalName"></alias>
		<view-link rel-entity-alias="RPT" entity-alias="RPP">
			<key-map rel-field-name="researchProductTypeId" field-name="researchProductTypeId"/>
		</view-link>
		<view-link rel-entity-alias="RPPR" entity-alias="RPP">
			<key-map  rel-field-name="researchProjectProposalId" field-name="researchProjectProposalId"/>
		</view-link>
	</view-entity>
<!-- 	
	<entity entity-name="ProjectProposalRole" package-name="org.ofbiz.bkeuniv">
		<field name="researchProjectProposalId" type="id-ne"></field>	
		 <field name="staffId" type="id-vlong"></field>
		<field name="roleTypeId" type="id-vlong"></field>
		<field name="fromDate" type="date-time"></field>
		<field name="thruDate" type="date-time"></field>
		<prim-key field="researchProjectProposalId"/>
		<prim-key field="staffId"/>
		<relation rel-entity-name="ResearchProjectProposal" type="one">
			<key-map field-name="researchProjectProposalId" rel-field-name="researchProjectProposalId"/>
		</relation>
		<relation rel-entity-name="Staff" type="one">
			<key-map field-name="staffId"/>
		</relation>		
		<relation rel-entity-name="ProjectProposalRoleType" type="one">
			<key-map field-name="roleTypeId"/>
		</relation>
	</entity>
	<view-entity entity-name="ProjectProposalRoleView" package-name="">
		<member-entity entity-alias="PPR" entity-name="ProjectProposalRole"></member-entity>
		<member-entity entity-alias="ST" entity-name="Staff"></member-entity>
		<member-entity entity-alias="RT" entity-name="ProjectProposalRoleType"></member-entity>
		<alias-all entity-alias="PPR"></alias-all>
		<alias name="staffName" field="staffName" entity-alias="ST"></alias>
		<alias name="roleTypeName" field="roleTypeName" entity-alias="RT"></alias>
		<view-link rel-entity-alias="ST" entity-alias="PPR">
			<key-map  rel-field-name="staffId" field-name="staffId"/>
		</view-link>
		<view-link rel-entity-alias="RT" entity-alias="PPR">
			<key-map rel-field-name="roleTypeId" field-name="roleTypeId"/>
		</view-link>
	</view-entity>
 -->	

	<entity entity-name="ProjectProposalMember" package-name="org.ofbiz.bkeuniv">
		<field name="projectProposalMemberId" type="id-ne"></field>
		<field name="researchProjectProposalId" type="id-ne"></field>	
		 <field name="staffId" type="id-vlong"></field>
		<field name="roleTypeId" type="id-vlong"></field>
		<!-- 
		<field name="fromDate" type="date"></field>
		<field name="thruDate" type="date"></field>
		 -->
		<prim-key field="projectProposalMemberId"/>
		
		<relation rel-entity-name="ResearchProjectProposal" type="one">
			<key-map field-name="researchProjectProposalId" rel-field-name="researchProjectProposalId"/>
		</relation>
		<relation rel-entity-name="Staff" type="one">
			<key-map field-name="staffId"/>
		</relation>		
		<relation rel-entity-name="ProjectProposalRoleType" type="one">
			<key-map field-name="roleTypeId"/>
		</relation>
	</entity>
	<view-entity entity-name="ProjectProposalMemberView" package-name="">
		<member-entity entity-alias="PPR" entity-name="ProjectProposalMember"></member-entity>
		<member-entity entity-alias="ST" entity-name="Staff"></member-entity>
		<member-entity entity-alias="RT" entity-name="ProjectProposalRoleType"></member-entity>
		<alias-all entity-alias="PPR"></alias-all>
		<alias name="staffName" field="staffName" entity-alias="ST"></alias>
		<alias name="roleTypeName" field="roleTypeName" entity-alias="RT"></alias>
		<view-link rel-entity-alias="ST" entity-alias="PPR">
			<key-map  rel-field-name="staffId" field-name="staffId"/>
		</view-link>
		<view-link rel-entity-alias="RT" entity-alias="PPR">
			<key-map rel-field-name="roleTypeId" field-name="roleTypeId"/>
		</view-link>
	</view-entity>

	<entity entity-name="Jury" package-name="org.ofbiz.bkeuniv">
		<field name="juryId" type="id-ne"></field>
		<field name="juryName" type="very-long"></field>
		<field name="projectCallId" type="id-vlong"></field>
		<field name="facultyId" type="id-vlong"></field>
		<field name="fromDate" type="date"></field>
		<field name="thruDate" type="date"></field>
		<prim-key field="juryId"/>
		<relation rel-entity-name="Faculty" type="one">
			<key-map field-name="facultyId"/>
		</relation>
		<relation rel-entity-name="ProjectCall" type="one">
			<key-map field-name="projectCallId"/>
		</relation>
	</entity>
	
	<view-entity entity-name="JuryView" package-name="org.ofbiz.bkeuniv">
		<member-entity entity-alias="J" entity-name="Jury"></member-entity>
		<member-entity entity-alias="F" entity-name="Faculty"></member-entity>
		<member-entity entity-alias="PC" entity-name="ProjectCall"></member-entity>
		<alias-all entity-alias="J"></alias-all>
		<alias name="facultyName" entity-alias="F" field="facultyName"></alias>
		<alias name="projectCallName" entity-alias="PC" field="projectCallName"></alias>
		<view-link rel-entity-alias="F" entity-alias="J">
			<key-map field-name="facultyId"/>
		</view-link>
		<view-link rel-entity-alias="PC" entity-alias="J">
			<key-map field-name="projectCallId"/>
		</view-link>
		
	</view-entity>
	
	<entity entity-name="JuryRoleType" package-name="org.ofbiz.bkeuniv">
		<field name="juryRoleTypeId" type="id-vlong"></field>
		<field name="juryRoleTypeName" type="very-long"></field>
		<prim-key field="juryRoleTypeId"/>		
	</entity>
	
	<entity entity-name="JuryMember" package-name="org.ofbiz.bkeuniv">
		<field name="juryMemberId" type="id-ne"></field>
		<field name="juryId" type="id-ne"></field>
		<field name="staffId" type="id-vlong"></field>
		<field name="juryRoleTypeId" type="id-vlong"></field>
		<field name="fromDate" type="date"></field>
		<field name="thruDate" type="date"></field>
		
		<prim-key field="juryMemberId"/>
		
		
		<relation rel-entity-name="Staff" type="one">
			<key-map field-name="staffId"/>
		</relation>
		<relation rel-entity-name="Jury" type="one">
			<key-map field-name="juryId"/>
		</relation>
		<relation rel-entity-name="JuryRoleType" type="one">
			<key-map field-name="juryRoleTypeId"/>
		</relation>
	</entity>
	
	<view-entity entity-name="JuryMemberView" package-name="org.ofbiz.bkeuniv">
		<member-entity entity-alias="JM" entity-name="JuryMember"></member-entity>
		<member-entity entity-alias="ST" entity-name="Staff"></member-entity>
		<member-entity entity-alias="JRT" entity-name="JuryRoleType"></member-entity>
		<member-entity entity-alias="J" entity-name="Jury"></member-entity>
		<alias-all entity-alias="JM"></alias-all>
		<alias name="staffName" entity-alias="ST" field="staffName"></alias>
		<alias name="juryName" entity-alias="J" field="juryName"></alias>
		<alias name="juryRoleTypeName" entity-alias="JRT" field="juryRoleTypeName"></alias>
		<view-link rel-entity-alias="J" entity-alias="JM">
			<key-map field-name="juryId"/>
		</view-link>
		<view-link rel-entity-alias="ST" entity-alias="JM">
			<key-map field-name="staffId"/>
		</view-link>
		<view-link rel-entity-alias="JRT" entity-alias="JM">
			<key-map field-name="juryRoleTypeId"/>
		</view-link>
	</view-entity>
	<entity entity-name="ReviewerResearchProposal" package-name="org.ofbiz.bkeuniv">
		<field name="reviewerResearchProposalId" type="id-ne"></field>
		<field name="juryId" type="id-ne"></field>
		<field name="staffId" type="id-vlong"></field>
		<field name="researchProjectProposalId" type="id-ne"></field>	
		<field name="fromDate" type="date"></field>
		<field name="thruDate" type="date"></field>
		<field name="evaluationMotivation" type="numeric"></field>
		<field name="evaluationInnovation" type="numeric"></field>
		<field name="evaluationApplicability" type="numeric"></field>
		<field name="evaluationResearchMethod" type="numeric"></field>
		<field name="evaluationResearchContent" type="numeric"></field>
		<field name="evaluationPaper" type="numeric"></field>
		<field name="evaluationProduct" type="numeric"></field>
		<field name="evaluationPatent" type="numeric"></field>
		<field name="evaluationGraduateStudent" type="numeric"></field>
		<field name="evaluationYoungResearcher" type="numeric"></field>
		<field name="evaluationEducation" type="numeric"></field>
		<field name="evaluationReasonableBudget" type="numeric"></field>
		<field name="totalEvaluation" type="numeric"></field>
		<field name="conclusion" type="very-long"></field>
		<field name="comments" type="very-long"></field>
		<field name="statusId" type="id-vlong"></field>
		
		<prim-key field="reviewerResearchProposalId"/>
		<!-- <prim-key field="juryId"/>
		<prim-key field="staffId"/>
		<prim-key field="researchProjectProposalId"/>
		 -->
		<relation rel-entity-name="Staff" type="one">
			<key-map field-name="staffId"/>
		</relation>
		<relation rel-entity-name="Jury" type="one">
			<key-map field-name="juryId"/>
		</relation>
		<relation rel-entity-name="ResearchProjectProposal" type="one">
			<key-map field-name="researchProjectProposalId"/>
		</relation>
		<!-- 
		<relation rel-entity-name="ProjectProposalStatus" type="one">
			<key-map field-name="statusId"/>
		</relation>
		 -->
		 
	</entity>
	
	<view-entity entity-name="ReviewerResearchProposalView" package-name="org.ofbiz.bkeuniv">
		<member-entity entity-alias="RRP" entity-name="ReviewerResearchProposal"></member-entity>
		<member-entity entity-alias="RPP" entity-name="ResearchProjectProposal"></member-entity>
		<member-entity entity-alias="ST" entity-name="Staff"></member-entity>
		<alias-all entity-alias="RRP"></alias-all>
		<alias name="staffName" entity-alias="ST" field="staffName"></alias>
		<alias name="researchProjectProposalName" entity-alias="RPP" field="researchProjectProposalName"></alias>
		<view-link rel-entity-alias="ST" entity-alias="RRP">
			<key-map field-name="staffId"/>
		</view-link>
		<view-link rel-entity-alias="RPP" entity-alias="RRP">
			<key-map field-name="researchProjectProposalId"/>
		</view-link>
	</view-entity>
	
	<!-- end of submit đề tài nghiên cứu -->
	
	<!-- Lĩnh vực nghiên cứu-->
	<entity entity-name="ResearchDomain" title="Lĩnh vực nghiên cứu" package-name="org.ofbiz.bkeuniv">
		<field name="researchDomainId" type="id-ne"></field>
		<field name="researchDomainName" type="very-long"></field>
		<prim-key field="researchDomainId"/>
	</entity>
	
	<entity entity-name="ResearchSubDomain" title="Lĩnh vực nghiên cứu" package-name="org.ofbiz.bkeuniv">
		<field name="researchDomainId" type="id-ne"></field>
		<field name="researchSubDomainSeqId" type="id-ne"></field>
		<field name="researchSubDomainName" type="very-long"></field>
		<field name="researchSubDomainCode" type="very-long"></field>
		<prim-key field="researchSubDomainSeqId"/>
		<prim-key field="researchDomainId"/>
		<relation rel-entity-name="ResearchDomain" type="one">
			<key-map field-name="researchDomainId"/>
		</relation>
	</entity>
	
	<entity entity-name="ResearchSpeciality" title="Chuyên ngành nghiên cứu" package-name="org.ofbiz.bkeuniv">
		<field name="researchSpecialityId" type="id-ne"></field>
		<field name="researchDomainId" type="id-ne"></field>
		<field name="researchSubDomainSeqId" type="id"></field>
		<field name="researchSpecialitySeqId" type="id-ne"></field>
		<field name="researchSpecialityName" type="very-long"></field>
		<field name="researchSpecialityCode" type="id-ne"></field>
		
		<prim-key field="researchSpecialityId"/>
		<prim-key field="researchSpecialitySeqId"/>
		<prim-key field="researchSubDomainSeqId"/>
		<prim-key field="researchDomainId"/>
		<relation rel-entity-name="ResearchSubDomain" type="one">
			<key-map field-name="researchSubDomainSeqId"/>
		</relation>
		<relation rel-entity-name="ResearchSubDomain" type="one">
			<key-map field-name="researchDomainId"/>
		</relation>
		
		
	</entity>

	<entity entity-name="StaffResearchDomain" package-name="org.ofbiz.bkeuniv">
		<field name="staffResearchDomainId" type="id-ne"></field>
		<field name="staffId" type="id-vlong"></field>
		<field name="researchDomainId" type="id"></field>
		<field name="fromDate" type="date"></field>
		<field name="thruDate" type="date"></field>
		
		<prim-key field="staffResearchDomainId"/>
		
		<relation rel-entity-name="Staff" type="one">
			<key-map field-name="staffId"/>
		</relation>
		<relation rel-entity-name="ResearchDomain" type="one">
			<key-map field-name="researchDomainId"/>
		</relation>
	</entity>

	<entity entity-name="StaffResearchSpeciality" package-name="org.ofbiz.bkeuniv">
		<field name="staffResearchSpecialityId" type="id-ne"></field>
		<field name="staffId" type="id-vlong"></field>
		<field name="researchDomainId" type="id"></field>
		<field name="researchSubDomainSeqId" type="id"></field>
		<field name="researchSpecialitySeqId" type="id"></field>
		<field name="fromDate" type="date"></field>
		<field name="thruDate" type="date"></field>
		
		<prim-key field="staffResearchSpecialityId"/>
		
		<relation rel-entity-name="Staff" type="one">
			<key-map field-name="staffId"/>
		</relation>
		<relation rel-entity-name="ResearchSpeciality" type="one">
			<key-map field-name="researchSubDomainSeqId"/>
		</relation>
		<relation rel-entity-name="ResearchSpeciality" type="one">
			<key-map field-name="researchDomainId"/>
		</relation>
		<relation rel-entity-name="ResearchSpeciality" type="one">
			<key-map field-name="researchSpecialitySeqId"/>
		</relation>
		
	</entity>
	<!-- end lĩnh vực nghiên cứu -->

	<!-- Chức danh nghiên cứu -->
	
	
	<entity entity-name="Function" package-name="org.ofbiz.bkeuniv">
		<field name="functionId" type="id-vlong"></field>
		<field name="uiLabelId" type="very-long"></field>
		<field name="vnLabel" type="very-long"></field>
		<field name="enLabel" type="very-long"></field>
		<field name="target" type="very-long"></field>
		<field name="icon" type="very-long"></field>
		<field name="parentFunctionId" type="id-vlong"></field>
		<field name="index" type="numeric"></field>
		<field name="status" type="id-long"></field>
		<prim-key field="functionId"/>
	</entity>
	<entity entity-name="GroupFunction" package-name="org.ofbiz.bkeuniv">
		<field name="groupFunctionId" type="id-vlong"></field>
		<field name="securityGroupId" type="id"></field>
		<field name="functionId" type="id-vlong"></field>
		<field name="fromDate" type="date-time"></field>
		<field name="thruDate" type="date-time"></field>
		
		<prim-key field="groupFunctionId"/>
		<prim-key field="securityGroupId"/>
		<prim-key field="functionId"/>
		<prim-key field="fromDate"/>
		<relation type="one" fk-name="MAP_FUNCTION" rel-entity-name="Function">
            <key-map field-name="functionId" rel-field-name="functionId"/>
        </relation>
        <relation type="one" fk-name="MAP_GROUP" rel-entity-name="SecurityGroup">
            <key-map field-name="securityGroupId" rel-field-name="groupId"/>
        </relation>    
    </entity>
	
	
	<entity entity-name="University" package-name="org.ofbiz.bkeuniv">
		<field name="universityId" type="id-ne"></field>
		<field name="universityName" type="very-long"></field>
		<prim-key field="universityId"/>
	</entity>
	
	<entity entity-name="Faculty" package-name="org.ofbiz.bkeuniv">
		<field name="facultyId" type="id-ne"></field>
		<field name="facultyName" type="very-long"></field>
		<field name="universityId" type="id"></field>
		<field name="statusId" type="id-ne"></field>
		
		<prim-key field="facultyId"/>
		<relation rel-entity-name="University" type="one">
			<key-map field-name="universityId"/>
		</relation>
	</entity>
	
	<entity entity-name="Department" package-name="org.ofbiz.bkeuniv">
		<field name="departmentId" type="id-vlong"></field>
		<field name="departmentName" type="very-long"></field>
		<field name="facultyId" type="id"></field>
		<field name="statusId" type="id-ne"></field>
		<prim-key field="departmentId"/>
		<relation rel-entity-name="Faculty" type="one">
			<key-map field-name="facultyId"/>
		</relation>
	</entity>
	
	<entity entity-name="Gender" package-name="org.ofbiz.bkeuniv">
		<field name="genderId" type="id-ne"></field>
		<field name="genderName" type="name"></field>
		<prim-key field="genderId"/>
	</entity>
	
	<entity entity-name="AcademicYear" package-name="org.ofbiz.bkeuniv">
		<field name="academicYearId" type="id-ne"></field>
		<field name="academicYearName" type="id"></field>
		<prim-key field="academicYearId"/>
	</entity>
	
	
	<entity entity-name="Staff" package-name="org.ofbiz.bkeuniv">
		<field name="staffId" type="id-vlong"></field>
		<field name="staffCode" type="id-vlong"></field>
		<field name="staffUserLoginId" type="id-vlong"></field>
		<field name="staffName" type="name"></field>
		<field name="staffEmail" type="email"></field>
		<field name="departmentId" type="id-vlong"></field>
		<field name="staffGenderId" type="id"></field>
		<field name="staffDateOfBirth" type="date"></field>
		<field name="staffPhone" type="tel-number"></field>
		<field name="fromDate" type="date"></field>
		<field name="thruDate" type="date"></field>
		<field name="statusId" type="id-ne"></field>
		<prim-key field="staffId"/>
		<relation rel-entity-name="Department" type="one">
			<key-map field-name="departmentId"/>
		</relation>
		<relation rel-entity-name="Gender" type="one">
			<key-map field-name="genderId"/>
		</relation>
	</entity>
	
	<view-entity entity-name="StaffView" package-name="org.ofbiz.bkeuniv">
		<member-entity entity-alias="ST" entity-name="Staff"></member-entity>
		<member-entity entity-alias="D" entity-name="Department"></member-entity>
		<member-entity entity-alias="G" entity-name="Gender"></member-entity>
		<member-entity entity-alias="F" entity-name="Faculty"></member-entity>
		<alias-all entity-alias="ST"></alias-all>
		<alias name="departmentName" entity-alias="D"></alias>
		<alias name="genderName" entity-alias="G"></alias>
		<alias name="facultyName" entity-alias="F"></alias>
		<alias name="facultyId" entity-alias="F"></alias>
		<view-link rel-entity-alias="D" entity-alias="ST" rel-optional="true">
			<key-map field-name="departmentId" rel-field-name="departmentId"/>
		</view-link>
		<view-link rel-entity-alias="G" entity-alias="ST" rel-optional="true">
			<key-map field-name="staffGenderId" rel-field-name="genderId"/>
		</view-link>
		<view-link rel-entity-alias="F" entity-alias="D" rel-optional="true">
			<key-map field-name="facultyId" rel-field-name="facultyId"/>
		</view-link>
		<entity-condition>
			<condition-list combine="and">
				<condition-list>
					<condition-expr field-name="thruDate" entity-alias="ST" value=""/>
				</condition-list>
			</condition-list>
		</entity-condition>
	</view-entity>
	
	<entity entity-name="PaperCategoryHourBudget" package-name="org.ofbiz.bkeuniv">
		<!-- <field name="paperCategoryHourBudgetId" type="id-ne"></field>
		 -->
		<field name="paperCategoryId" type="id-ne"></field>
		<field name="academicYearId" type="id-ne"></field>
		<field name="hour" type="numeric"></field>
		<field name="budget" type="numeric"></field>
		<prim-key field="paperCategoryId"/>
		<prim-key field="academicYearId"/>
	</entity>
	
	<entity entity-name="JournalIndex" package-name="org.ofbiz.bkeuniv">
		<field name="journalIndexId" type="id-ne"></field>
		<field name="journalIndexName" type="very-long"></field>
		<prim-key field="journalIndexId"/>
	</entity>
	
	<entity entity-name="PaperCategory" package-name="org.ofbiz.bkeuniv">
		<field name="paperCategoryId" type="id-ne"></field>
		<field name="paperCategoryName" type="very-long"></field>
		<field name="paperCategoryCode" type="id"></field>
		<field name="journalIndexId" type="id"></field>
		<prim-key field="paperCategoryId"/>
		<relation rel-entity-name="JournalIndex" type="one">
			<key-map field-name="journalIndexId"/>
		</relation>
	</entity>
	
	<entity entity-name="PaperDeclarationStatus" package-name="org.ofbiz.bkeuniv">
		<field name="paperDeclarationStatusId" type="id-ne"></field>
		<field name="paperDeclarationStatusName" type="very-long"></field>
		<prim-key field="paperDeclarationStatusId"/>
	</entity>
	
	<entity entity-name="PaperDeclaration" package-name="org.ofbiz.bkeuniv">
		<field name="paperId" type="id-vlong"></field>
		<field name="paperCode" type="id-vlong"></field>
		<field name="paperCategoryId" type="id"></field>
		<field name="staffId" type="id-vlong"></field>
		<field name="paperName" type="very-long"></field>
		<field name="journalConferenceName" type="very-long"></field>
		<field name="DOI" type="very-long"></field>
		<field name="impactFactor" type="floating-point"></field>
		<field name="volumn" type="value"></field>
		<field name="year" type="numeric"></field>
		<field name="month" type="numeric"></field>
		<field name="sourcePath" type="very-long"></field>
		<field name="ISSN" type="value"></field>
		<field name="authors" type="very-long"></field>
		<field name="academicYearId" type="id"></field>
		<field name="approverStaffId" type="id-vlong"></field>
		<field name="approveStatusId" type="id"></field>
		<field name="statusId" type="id-vlong"></field>
		<field name="researchProjectProposalId" type="id-ne"></field>
		
		<prim-key field="paperId"/>
		
		<relation rel-entity-name="Staff" type="one">
			<key-map field-name="staffId"/>
		</relation>
		<relation rel-entity-name="AcademicYear" type="one">
			<key-map field-name="academicYearId"/>
		</relation>
		<relation rel-entity-name="PaperCategory" type="one">
			<key-map field-name="paperCategoryId"/>
		</relation>
		<relation type="one" fk-name="APPROVER_STAFF" rel-entity-name="Staff">
            <key-map field-name="approverStaffId" rel-field-name="staffId"/>
        </relation>
        <relation type="one" fk-name="APPROVER_STATUS" rel-entity-name="PaperDeclarationStatus">
            <key-map field-name="approveStatusId" rel-field-name="paperDeclarationStatusId"/>
        </relation>
        
	</entity>
	
	<entity entity-name="StaffPaperDeclarationRole" package-name="org.ofbiz.bkeuniv">
		<field name="roleId" type="id-vlong"></field>
		<field name="roleName" type="very-long"></field>
		<prim-key field="roleId"/>
	</entity>
	
	<entity entity-name="StaffPaperDeclaration" package-name="org.ofbiz.bkeuniv">
		<field name="staffPaperDeclarationId" type="id-vlong"></field>
		<field name="staffId" type="id-vlong"></field>
		<field name="paperId" type="id-vlong"></field>
		<field name="statusId" type="id-vlong"></field>
		<field name="roleId" type="id-vlong"></field>
		
		<prim-key field="staffPaperDeclarationId"/>
		<!-- 
		<relation rel-entity-name="StaffPaperDeclarationRole" type="one">
			<key-map field-name="roleId"/>
		</relation>
		 -->
		 
		<relation rel-entity-name="Staff" type="one">
			<key-map field-name="staffId"/>
		</relation>
		<relation rel-entity-name="PaperDeclaration" type="one">
			<key-map field-name="paperId"/>
		</relation>
	</entity>
	
	<view-entity entity-name="PapersStaffView" package-name="org.ofbiz.bkeuniv">
		<member-entity entity-alias="ST" entity-name="Staff"></member-entity>
		<member-entity entity-alias="DST" entity-name="Staff"></member-entity>
		<member-entity entity-alias="SPDR" entity-name="StaffPaperDeclarationRole"></member-entity>
		<member-entity entity-alias="SPD" entity-name="StaffPaperDeclaration"></member-entity>
		<member-entity entity-alias="PD" entity-name="PaperDeclaration"></member-entity>
		<member-entity entity-alias="PC" entity-name="PaperCategory"></member-entity>
		<member-entity entity-alias="RPP" entity-name="ResearchProjectProposal"></member-entity>
		
		<alias-all entity-alias="PD"></alias-all>
		<alias name="staffName" entity-alias="ST" field="staffName"></alias>
		<alias name="declareStaffName" entity-alias="DST" field="staffName"></alias>
		<alias name="authorStaffId" entity-alias="ST" field="staffId"></alias>
		<alias name="categoryName" entity-alias="PC" field="paperCategoryName"></alias>
		<alias name="statusStaffPaper" entity-alias="SPD" field="statusId"></alias>
		<alias name="roleId" entity-alias="SPD" field="roleId"></alias>
		<alias name="roleName" entity-alias="SPDR" field="roleName"></alias>
		<alias name="staffPaperDeclarationId" entity-alias="SPD"></alias>
		<alias name="staffId" entity-alias="SPD"></alias>
		<alias name="researchProjectProposalName" entity-alias="RPP"></alias>
		
		
		
		<view-link rel-entity-alias="SPDR" entity-alias="SPD" rel-optional="true">
			<key-map rel-field-name="roleId" field-name="roleId"/>
		</view-link>
		<view-link rel-entity-alias="ST" entity-alias="SPD">
			<key-map rel-field-name="staffId" field-name="staffId"/>
		</view-link>
		<view-link rel-entity-alias="PD" entity-alias="SPD">
			<key-map field-name="paperId" rel-field-name="paperId"/>
		</view-link>
		<view-link rel-entity-alias="DST" entity-alias="PD">
			<key-map rel-field-name="staffId" field-name="staffId"/>
		</view-link>
		
		<view-link rel-entity-alias="PC" entity-alias="PD" rel-optional="true">
			<key-map field-name="paperCategoryId" rel-field-name="paperCategoryId"/>
		</view-link>
		
		<view-link rel-entity-alias="RPP" entity-alias="PD" rel-optional="true">
			<key-map rel-field-name="researchProjectProposalId" field-name="researchProjectProposalId"/>
		</view-link>
		
	</view-entity>
	
	<view-entity entity-name="PaperView" package-name="org.ofbiz.bkeuniv">
		<member-entity entity-alias="ST" entity-name="Staff"></member-entity>
		<member-entity entity-alias="PD" entity-name="PaperDeclaration"></member-entity>
		<member-entity entity-alias="PC" entity-name="PaperCategory"></member-entity>
		<member-entity entity-alias="PDS" entity-name="PaperDeclarationStatus"></member-entity>
		<member-entity entity-alias="RP" entity-name="ResearchProjectProposal"></member-entity>
		
		<alias-all entity-alias="PD"></alias-all>
		<alias name="staffName" entity-alias="ST"></alias>
		<alias name="paperCategoryName" entity-alias="PC"></alias>
		<alias name="paperDeclarationStatusName" entity-alias="PDS"></alias>
		<alias name="researchProjectProposalName" entity-alias="RP"></alias>
		
		
		<view-link rel-entity-alias="ST" entity-alias="PD">
			<key-map rel-field-name="staffId" field-name="staffId"/>
		</view-link>
		<view-link rel-entity-alias="PC" entity-alias="PD">
			<key-map rel-field-name="paperCategoryId" field-name="paperCategoryId"/>
		</view-link>
		<view-link rel-entity-alias="PDS" entity-alias="PD" rel-optional="true">
			<key-map rel-field-name="paperDeclarationStatusId" field-name="approveStatusId"/>
		</view-link>
		<view-link rel-entity-alias="RP" entity-alias="PD" rel-optional="true">
			<key-map rel-field-name="researchProjectProposalId" field-name="researchProjectProposalId"/>
		</view-link>
		
	</view-entity>
	
	
	<!-- project declaration -->
	<entity entity-name="ProjectCategory" package-name="org.ofbiz.bkeuniv">
		<field name="projectCategoryId" type="id-vlong"></field>
		<field name="projectCategoryName" type="very-long"></field>
		<field name="projectCategoryCode" type="id"></field>
		<prim-key field="projectCategoryId"/>
	</entity>
	<entity entity-name="ProjectStatus" package-name="org.ofbiz.bkeuniv">
		<field name="projectStatusId" type="id-vlong"></field>
		<field name="projectStatusName" type="very-long"></field>
		<prim-key field="projectStatusId"/>
	</entity>
	<entity entity-name="ProjectParticipationRole" package-name="org.ofbiz.bkeuniv">
		<field name="projectParticipationRoleId" type="id-vlong"></field>
		<field name="projectParticipationRoleName" type="very-long"></field>
		<prim-key field="projectParticipationRoleId"/>
	</entity>
	
	<entity entity-name="ProjectDeclaration" package-name="org.ofbiz.bkeuniv">
		<field name="projectDeclarationId" type="id-ne"></field>
		<field name="projectCategoryId" type="id-vlong"></field>
		<field name="projectName" type="very-long"></field>
		<field name="startDate" type="date"></field>
		<field name="endDate" type="date"></field>
		<field name="projectStatusId" type="id-vlong"></field>
		<field name="researchProgram" type="very-long"></field>
		<field name="declarationStaffId" type="id-vlong"></field>
		<field name="projectParticipationRoleId" type="id-vlong"></field>
		<field name="approverStaffId" type="id-vlong"></field>
		<field name="academicYearId" type="id-ne"></field>
		<field name="hourOfStaff" type="numeric"></field>
		<field name="totalhour" type="numeric"></field>
		<field name="budget" type="numeric"></field>
		<field name="sponsor" type="very-long"></field>
		
		<prim-key field="projectDeclarationId"/>
		
		<relation rel-entity-name="AcademicYear" type="one">
			<key-map field-name="academicYearId"/>
		</relation>
		
		<relation rel-entity-name="ProjectCategory" type="one">
			<key-map field-name="projectCategoryId"/>
		</relation>
		<relation rel-entity-name="ProjectStatus" type="one">
			<key-map field-name="projectStatusId"/>
		</relation>
		
		<relation type="one" fk-name="DECLARATION_STAFF" rel-entity-name="Staff">
            <key-map field-name="declarationStaffId" rel-field-name="staffId"/>
        </relation>
		<relation type="one" fk-name="APPROVER_STAFF" rel-entity-name="Staff">
            <key-map field-name="approverStaffId" rel-field-name="staffId"/>
        </relation>
        
         <relation rel-entity-name="ProjectParticipationRole" type="one">
         	<key-map field-name="projectParticipationRoleId"/>
         </relation>
	</entity>
	
	<view-entity entity-name="ProjectDeclarationView" package-name="org.ofbiz.bkeuniv">
		<member-entity entity-alias="PD" entity-name="ProjectDeclaration"></member-entity>
		<member-entity entity-alias="ST" entity-name="Staff"></member-entity>
		<member-entity entity-alias="PS" entity-name="ProjectStatus"></member-entity>
		<member-entity entity-alias="PC" entity-name="ProjectCategory"></member-entity>
		<member-entity entity-alias="PP" entity-name="ProjectParticipationRole"></member-entity>
		<member-entity entity-alias="Y" entity-name="AcademicYear"></member-entity>
		<alias-all entity-alias="PD"></alias-all>
		<alias name="staffName" entity-alias="ST"></alias>
		<alias name="projectCategoryName" entity-alias="PC"></alias>
		<alias name="projectStatusName" entity-alias="PS"></alias>
		<alias name="projectParticipationRoleName" entity-alias="PP"></alias>
		<alias name="academicYearName" entity-alias="Y"></alias>
		
		<view-link rel-entity-alias="ST" entity-alias="PD" rel-optional="true">
			<key-map field-name="approverStaffId" rel-field-name="staffId"/>
		</view-link>
		<view-link rel-entity-alias="PC" entity-alias="PD" rel-optional="true">
			<key-map field-name="projectCategoryId" rel-field-name="projectCategoryId"/>
		</view-link>
		<view-link rel-entity-alias="PS" entity-alias="PD" rel-optional="true">
			<key-map field-name="projectStatusId" rel-field-name="projectStatusId"/>
		</view-link>
		<view-link rel-entity-alias="PP" entity-alias="PD" rel-optional="true">
			<key-map field-name="projectParticipationRoleId" rel-field-name="projectParticipationRoleId"/>
		</view-link>
		<view-link rel-entity-alias="Y" entity-alias="PD" rel-optional="true">
			<key-map field-name="academicYearId" rel-field-name="academicYearId"/>
		</view-link>
		
	</view-entity>
	
	<entity entity-name="EducationProgress" package-name="org.ofbiz.bkeuniv">
		<field name="educationProgressId" type="id-ne"></field>
		<field name="staffId" type="id-vlong"></field>
		<field name="educationType" type="value"></field>
		<field name="institution" type="very-long"></field>
		<field name="speciality" type="very-long"></field>
		<field name="graduateDate" type="date"></field>
		
		<prim-key field="educationProgressId"/>
		<relation rel-entity-name="Staff" type="one">
			<key-map field-name="staffId"/>
		</relation>
	</entity>
	
	<entity entity-name="WorkProgress" package-name="org.ofbiz.bkeuniv">
		<field name="workProgressId" type="id-ne"></field>
		<field name="staffId" type="id-vlong"></field>
		<field name="period" type="very-long"></field>
		<field name="position" type="very-long"></field>
		<field name="specialization" type="very-long"></field>
		<field name="institution" type="very-long"></field>
		<prim-key field="workProgressId"/>
		<relation rel-entity-name="Staff" type="one">
			<key-map field-name="staffId"/>
		</relation>
	</entity>

	<entity entity-name="ForeignLanguage" package-name="org.ofbiz.bkeuniv">
		<field name="foreignLanguageId" type="id-ne"></field>
		<field name="staffId" type="id-vlong"></field>
		<field name="foreignLanguageCatalogId" type="id-ne"></field>
		<field name="listen" type="value"></field>
		<field name="speaking" type="value"></field>
		<field name="reading" type="value"></field>
		<field name="writing" type="value"></field>
		<prim-key field="foreignLanguageId"/>
		<relation rel-entity-name="Staff" type="one">
			<key-map field-name="staffId"/>
		</relation>
		<relation rel-entity-name="ForeignLanguageCatalog" type="one">
			<key-map field-name="foreignLanguageCatalogId"/>
		</relation>
	</entity>	
	
	<entity entity-name="ForeignLanguageCatalog" package-name="org.ofbiz.bkeuniv">
		<field name="foreignLanguageCatalogId" type="id-ne"></field>
		<field name="foreignLanguageCatalogName" type="very-long"></field>
		<prim-key field="foreignLanguageCatalogId"/>
	</entity>
	
	<entity entity-name="AppliedResearchProject" package-name="org.ofbiz.bkeuniv">
		<field name="appliedResearchProjectId" type="id-ne"></field>
		<field name="staffId" type="id-vlong"></field>
		<field name="name" type="very-long"></field>
		<field name="description" type="very-long"></field>
		<field name="period" type="very-long"></field>
		<prim-key field="appliedResearchProjectId"/>
		<relation rel-entity-name="Staff" type="one">
			<key-map field-name="staffId"/>
		</relation>
	</entity>
	
	<entity entity-name="Award" package-name="org.ofbiz.bkeuniv">
		<field name="awardId" type="id-ne"></field>
		<field name="staffId" type="id-vlong"></field>
		<field name="description" type="very-long"></field>
		<field name="year" type="numeric"></field>
		<prim-key field="awardId"/>
		<relation rel-entity-name="Staff" type="one">
			<key-map field-name="staffId"/>
		</relation>
	</entity>
	
	<entity entity-name="ScientificServiceExperience" package-name="org.ofbiz.bkeuniv">
		<field name="scientificServiceExperienceId" type="id-ne"></field>
		<field name="staffId" type="id-vlong"></field>
		<field name="description" type="very-long"></field>
		<field name="quantity" type="numeric"></field>
		<prim-key field="scientificServiceExperienceId"/>
		<relation rel-entity-name="Staff" type="one">
			<key-map field-name="staffId"/>
		</relation>
	</entity>
	
	<view-entity entity-name="ScientificServiceExperienceView" package-name="org.ofbiz.bkeuniv">
		<member-entity entity-alias="SE" entity-name="ScientificServiceExperience"></member-entity>
		<member-entity entity-alias="ST" entity-name="Staff"></member-entity>
		<alias-all entity-alias="SE"></alias-all>
		<alias name="staffName" entity-alias="ST"></alias>
		
		<view-link rel-entity-alias="ST" entity-alias="SE" rel-optional="true">
			<key-map field-name="staffId" rel-field-name="staffId"/>
		</view-link>
		
	</view-entity>
	
	<entity entity-name="Patent" package-name="org.ofbiz.bkeuniv">
		<field name="patentId" type="id-ne"></field>
		<field name="patentName" type="very-long"></field>
		<field name="staffId" type="id-vlong"></field>
		<field name="year" type="numeric"></field>
		<prim-key field="patentId"/>
		<relation rel-entity-name="Staff" type="one">
			<key-map field-name="staffId"/>
		</relation>
	</entity>
	
	<entity entity-name="StudentSupervisionType" package-name="org.ofbiz.bkeuniv">
		<field name="studentSupervisionTypeId" type="id-ne"></field>
		<field name="studentSupervisionTypeName" type="very-long"></field>
		<prim-key field="studentSupervisionTypeId"/>
	</entity>
	<entity entity-name="StudentSupervisionStatus" package-name="org.ofbiz.bkeuniv">
		<field name="studentSupervisionStatusId" type="id-ne"></field>
		<field name="studentSupervisionStatusName" type="very-long"></field>
		<prim-key field="studentSupervisionStatusId"/>
	</entity>
	
	
	<entity entity-name="StudentSupervision" package-name="org.ofbiz.bkeuniv">
		<field name="studentSupervisionId" type="id-ne"></field>
		<field name="studentName" type="very-long"></field>
		<field name="thesisTitle" type="very-long"></field>
		<field name="researchSpecialityCode" type="id"></field>
		<field name="staffId" type="id-vlong"></field>
		<field name="studentSupervisionTypeId" type="id-ne"></field>
		<field name="studentSupervisionStatusId" type="id-ne"></field>
		<field name="graduateYear" type="numeric"></field>
		<field name="isMainSupervisor" type="indicator"><description>"Y or N"</description></field>
		<prim-key field="studentSupervisionId"/>
		<relation rel-entity-name="Staff" type="one">
			<key-map field-name="staffId"/>
		</relation>
		<relation rel-entity-name="StudentSupervisionType" type="one">
			<key-map field-name="studentSupervisionTypeId"/>
		</relation>
		<relation rel-entity-name="StudentSupervisionStatus" type="one">
			<key-map field-name="studentSupervisionStatusId"/>
		</relation>
		
	</entity>
	
	
	<entity entity-name="BudgetInOut" package-name="org.ofbiz.bkeuniv">
		<field name="budgetInOutId" type="id-ne"></field>
		<field name="description" type="very-long"></field>
		<field name="amount" type="numeric"></field>
		<field name="date" type="date"></field>
		<field name="inOutFlag" type="indicator"><description>"I: thu, O: chi"</description></field>
		<prim-key field="budgetInOutId"/>
	</entity>
	
	<entity entity-name="RunningBudgetResearchProject" package-name="org.ofbiz.bkeuniv">
		<field name="runningBudgetResearchProjectId" type="id-ne"></field>
		<field name="customTimePeriodId" type="id-ne"></field>
		<field name="researchProjectProposalId" type="id-ne"></field>
		<field name="staffId" type="id-vlong"></field>
		<field name="accumulateTransferedBudget" type="currency-amount"></field>
		<field name="transferedBudgetPeriodFacultyAccount" type="currency-amount"></field>
		<field name="transferedBudgetPeriodUniversityAccount" type="currency-amount"></field>
		<field name="statusId" type="id-vlong"></field>
		<field name="description" type="very-long"></field>
		<prim-key field="runningBudgetResearchProjectId"/>
		
		<relation rel-entity-name="ResearchProjectProposal" type="one">
			<key-map field-name="researchProjectProposalId"/>
		</relation>
		<relation rel-entity-name="ProjectProposalStatus" type="one">
			<key-map field-name="statusId"/>
		</relation>
		<relation rel-entity-name="Staff" type="one">
			<key-map field-name="staffId"/>
		</relation>
		<relation rel-entity-name="CustomTimePeriod" type="one">
			<key-map field-name="customTimePeriodId"/>
		</relation>
	</entity>
	
	<view-entity entity-name="AcctgTransGlAccountSums"
            package-name="org.ofbiz.accounting.ledger"
            title="Sum of AcctgTransEntry entity amounts grouped by glAccountId, debitCreditFlag">
      <member-entity entity-alias="ATE" entity-name="AcctgTransEntry"/>
      <member-entity entity-alias="ACT" entity-name="AcctgTrans"/>      
      <alias entity-alias="ATE" name="glAccountId" group-by="true"/>     
      <alias entity-alias="ACT" name="acctgTransTypeId" group-by="false"/>
      <alias entity-alias="ATE" name="debitCreditFlag" group-by="true"/>
      <alias entity-alias="ATE" name="amount" function="sum"/>
      <alias entity-alias="ACT" name="isPosted" group-by="false"/>
      <alias entity-alias="ACT" name="transactionDate" group-by="false"/> <!-- so we can select the sum by date -->
      <view-link entity-alias="ATE" rel-entity-alias="ACT">
        <key-map field-name="acctgTransId"/>
      </view-link>
    </view-entity>
    
</entitymodel>